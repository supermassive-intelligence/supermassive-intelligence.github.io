<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background gradient -->
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8fafc"/>
      <stop offset="100%" style="stop-color:#e2e8f0"/>
    </linearGradient>

    <!-- Neural network gradient -->
    <radialGradient id="nnGrad" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#1e40af"/>
    </radialGradient>

    <!-- Data flow gradient -->
    <linearGradient id="flowGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="50%" style="stop-color:#059669"/>
      <stop offset="100%" style="stop-color:#047857"/>
    </linearGradient>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1f2937">LLM-DEFLATE</text>
  <text x="400" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#6b7280">Extracting Knowledge from Trained Models</text>

  <!-- Central LLM representation -->
  <g id="llm-core">
    <!-- Main neural network circle -->
    <circle cx="400" cy="200" r="80" fill="url(#nnGrad)" stroke="#1e40af" stroke-width="3"/>

    <!-- Neural network nodes -->
    <g fill="#ffffff" opacity="0.8">
      <circle cx="370" cy="170" r="4"/>
      <circle cx="400" cy="160" r="4"/>
      <circle cx="430" cy="170" r="4"/>
      <circle cx="360" cy="200" r="4"/>
      <circle cx="400" cy="190" r="4"/>
      <circle cx="440" cy="200" r="4"/>
      <circle cx="370" cy="230" r="4"/>
      <circle cx="400" cy="240" r="4"/>
      <circle cx="430" cy="230" r="4"/>
    </g>

    <!-- Neural network connections -->
    <g stroke="#ffffff" stroke-width="1" opacity="0.6">
      <line x1="370" y1="170" x2="360" y2="200"/>
      <line x1="400" y1="160" x2="360" y2="200"/>
      <line x1="430" y1="170" x2="440" y2="200"/>
      <line x1="360" y1="200" x2="370" y2="230"/>
      <line x1="400" y1="190" x2="400" y2="240"/>
      <line x1="440" y1="200" x2="430" y2="230"/>
    </g>

    <!-- LLM Label -->
    <text x="400" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#ffffff">LLM</text>
  </g>

  <!-- Input: Compressed Knowledge -->
  <g id="compressed-knowledge">
    <rect x="50" y="160" width="120" height="80" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <text x="110" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#92400e">Compressed</text>
    <text x="110" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#92400e">Knowledge</text>
    <text x="110" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400e">Parameters</text>
    <text x="110" y="230" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#92400e">Weights</text>
  </g>

  <!-- Arrow from compressed to LLM -->
  <line x1="170" y1="200" x2="310" y2="200" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Deflation Process -->
  <g id="deflation-process">
    <path d="M 480 200 Q 520 150 580 200 Q 520 250 480 200" fill="url(#flowGrad)" opacity="0.7"/>
    <text x="530" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ffffff">DEFLATE</text>
    <text x="530" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#ffffff">Inference</text>
  </g>

  <!-- Output: Structured Datasets -->
  <g id="output-datasets">
    <!-- Dataset 1 -->
    <rect x="630" y="120" width="80" height="40" rx="5" fill="#dcfce7" stroke="#16a34a" stroke-width="2"/>
    <text x="670" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#166534">Dataset 1</text>
    <text x="670" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#166534">Topics A-C</text>

    <!-- Dataset 2 -->
    <rect x="630" y="180" width="80" height="40" rx="5" fill="#ddd6fe" stroke="#7c3aed" stroke-width="2"/>
    <text x="670" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#5b21b6">Dataset 2</text>
    <text x="670" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#5b21b6">Topics D-F</text>

    <!-- Dataset 3 -->
    <rect x="630" y="240" width="80" height="40" rx="5" fill="#fecdd3" stroke="#e11d48" stroke-width="2"/>
    <text x="670" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#be123c">Dataset 3</text>
    <text x="670" y="270" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#be123c">Topics G-I</text>
  </g>

  <!-- Arrow from deflation to datasets -->
  <line x1="580" y1="200" x2="620" y2="200" stroke="#374151" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Topic Tree Visualization -->
  <g id="topic-tree">
    <text x="400" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#374151">Hierarchical Topic Exploration</text>

    <!-- Root topic -->
    <circle cx="400" cy="340" r="8" fill="#3b82f6"/>

    <!-- Level 1 topics -->
    <circle cx="350" cy="360" r="6" fill="#10b981"/>
    <circle cx="400" cy="360" r="6" fill="#10b981"/>
    <circle cx="450" cy="360" r="6" fill="#10b981"/>

    <!-- Level 2 topics -->
    <circle cx="330" cy="380" r="4" fill="#f59e0b"/>
    <circle cx="370" cy="380" r="4" fill="#f59e0b"/>
    <circle cx="380" cy="380" r="4" fill="#f59e0b"/>
    <circle cx="420" cy="380" r="4" fill="#f59e0b"/>
    <circle cx="430" cy="380" r="4" fill="#f59e0b"/>
    <circle cx="470" cy="380" r="4" fill="#f59e0b"/>

    <!-- Connections -->
    <g stroke="#6b7280" stroke-width="1" opacity="0.6">
      <line x1="400" y1="340" x2="350" y2="360"/>
      <line x1="400" y1="340" x2="400" y2="360"/>
      <line x1="400" y1="340" x2="450" y2="360"/>
      <line x1="350" y1="360" x2="330" y2="380"/>
      <line x1="350" y1="360" x2="370" y2="380"/>
      <line x1="400" y1="360" x2="380" y2="380"/>
      <line x1="400" y1="360" x2="420" y2="380"/>
      <line x1="450" y1="360" x2="430" y2="380"/>
      <line x1="450" y1="360" x2="470" y2="380"/>
    </g>
  </g>

  <!-- Process labels -->
  <text x="110" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6b7280">INPUT</text>
  <text x="670" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6b7280">OUTPUT</text>

  <!-- Decorative data flow particles -->
  <g opacity="0.6">
    <circle cx="250" cy="195" r="2" fill="#3b82f6"/>
    <circle cx="270" cy="205" r="1.5" fill="#10b981"/>
    <circle cx="550" cy="185" r="2" fill="#f59e0b"/>
    <circle cx="570" cy="215" r="1.5" fill="#e11d48"/>
  </g>
</svg>
